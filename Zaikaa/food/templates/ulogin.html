<!-- <html>
<head>
	<title> Email Auth App by Pranav </title>
	<style>
		* { font-size:40px; font-family: Calibri,Arial; }
		.nav { background-color:lightblue; }
		.nav a { color:black; text-decoration:none; margin:40px; }
	</style>
</head>
<body>
<center>
	<div class="nav">
		{% if user.is_authenticated %}
			<a href="{% url 'ulogout' %}"> Logout </a>
		{% else %}
			<a href="{% url 'ulogin' %}"> Login </a>
			<a href="{% url 'usignup' %}"> SignUp </a>
			<a href="{% url 'urnp' %}"> RequestNewPassword </a>
		{% endif %}
	</div>
	<h1> Login Page </h1>
	<form method="POST">
	{% csrf_token %}
	<input type="email" name="un" placeholder="enter email" required />
	<br><br>
	<input type="password" name="pw" placeholder="enter password" required />
	<br><br>
	<input type="submit" value="login" />
	</form>
	<h2> {{ msg }} </h2>
</center>



</body>
</html> -->

{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Fiesta - Login</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/login.css' %}"
    />
</head>
<body>
    <img src="{% static 'img/e_cell_logo.png' %}" alt="E-Cell Logo" class="ecell-logo">
    <div class="container">
        <img src="{% static 'img/FF_logo.png' %}" alt="Food Fiesta Logo" class="logo">
        <h2 style="color: #e65c00;">Food Fiesta Login</h2>
        <form class="login-form" method="POST">
			{% csrf_token %}
            <div class="input-group">
                <input type="email" name = 'un' id="email" required>
                <label for="email">Email</label>
            </div>
            <div class="input-group">
                <input type="password" name = 'pw' id="password" required>
                <label for="password">Password</label>
            </div>
            <button type="submit" class="btn">Login</button>
            <div class="options">
                <a href="{% url 'urnp' %}" id="forgot-password" style="color: red">Forgot Password?</a>
                <a href="{% url 'usignup' %}" id="signup" style="color: green">Sign Up</a>
            </div>
        </form>
    </div>

    <script>
   document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector(".login-form");
    const emailInput = document.getElementById("email");
    const errorMessage = document.createElement("p");

    errorMessage.style.color = "red";
    errorMessage.style.fontSize = "14px";
    errorMessage.style.marginTop = "5px";
    errorMessage.style.display = "none"; // Initially hidden
    emailInput.parentNode.appendChild(errorMessage);

    function validateEmail() {
        const email = emailInput.value.trim();
        if (!email.endsWith("@sakec.ac.in")) {
            errorMessage.textContent = "Use @sakec.ac.in mail only";
            errorMessage.style.display = "block"; // Show error message
            return false;
        } else {
            errorMessage.style.display = "none"; // Hide error if valid
            return true;
        }
    }

    // Continuous validation on input
    emailInput.addEventListener("input", validateEmail);

    // Prevent form submission if email is invalid
    form.addEventListener("submit", function (event) {
        if (!validateEmail()) {
            event.preventDefault(); // Stop form submission
        }
    });
});

    </script>
</body>
</html>
